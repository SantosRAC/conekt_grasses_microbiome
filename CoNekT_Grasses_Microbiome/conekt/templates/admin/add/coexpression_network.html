{% extends 'admin/my_base.html' %}

{% block body %}
{% if form %}
<h1>Add Co-Expression Network</h1>
<div class="row">
    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
<form method="POST"  action="{{ url_for('admin_controls.add_coexpression_network') }}"  role="form" enctype="multipart/form-data">
    {{ form.csrf_token }}
    <div class="form-group">
        {{ form.species_id.label }}
        {{ form.species_id(class_="form-control") }}
    </div>
    <div class="form-group">
        {{ form.description.label }}
        {{ form.description(class_="form-control") }}
    </div>
    <div class="form-group">
        {{ form.limit.label }}
        {{ form.limit(class_="form-control") }}
    </div>
    <div class="form-group">
        {{ form.pcc_cutoff.label }}
        <br/>
        <span class="text-muted">Note that the default option (-2.0) effectively disables the PCC filter!</span>
        <br/>
        {{ form.pcc_cutoff(class_="form-control") }}
    </div>

    <div class="form-group">
        <div class="input-group">{{ form.enable_second_level.label }}?&nbsp;{{form.enable_second_level() }}</div>
    </div>

    <div class="form-group">
        <label class="btn btn-default" for="file" id="file-button">
            {{ form.file(style="display:none;", onchange="")}}
            <span id="file-selector-text">Select File</span>
        </label>
    </div>


    <button type="submit" class="btn btn-success pull-right">Add Network</button>
</form>
    </div>
    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
        <div class="panel panel-default">
            <div class="panel-heading"><strong>Help</strong></div>
            <div class="panel-body">
                The full PCC table generated by LSTrAP should be imported here.
            </div>
        </div>
    </div>
</div>
{% endif %}

{% endblock %}

{% block tail %}
<script>
    $(function() {
        $("#file").change(function() {
            $('#file-selector-text').html($(this).val().replace(/^.*\\/, '') + ' selected');$('#file-button').toggleClass('btn-default btn-success');
        });

    });
</script>
{{ super() }}
{% endblock%}